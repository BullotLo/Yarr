if(NOT DEFINED ENV{CENTOS7_ARM64_ROOT})
set(CENTOS7_ARM64_ROOT "/opt/rce/rootfs/centos7_64")
else()
set(CENTOS7_ARM64_ROOT $ENV{CENTOS7_ARM64_ROOT})
endif()
SET(CMAKE_C_COMPILER   "aarch64-unknown-linux-gnu-gcc")
SET(CMAKE_CXX_COMPILER "aarch64-unknown-linux-gnu-g++")
SET(CMAKE_OBJCOPY "aarch64-unknown-linux-gnu-objcopy")
SET(CMAKE_STRIP "aarch64-unknown-linux-gnu-strip")


SET(CMAKE_FIND_ROOT_PATH  ${CENTOS7_ARM64_ROOT})
# search for programs in the build host directories
SET(CMAKE_FIND_ROOT_PATH_MODE_PROGRAM NEVER)
# for libraries and headers in the target directories
SET(CMAKE_FIND_ROOT_PATH_MODE_LIBRARY ONLY)
SET(CMAKE_FIND_ROOT_PATH_MODE_INCLUDE ONLY)
set(ARM_BFLAG "-B${CENTOS7_ARM64_ROOT}/opt/rh/devtoolset-7/root/lib/gcc/aarch64-redhat-linux/7")
set(ARM_SYSROOT "--sysroot=${CENTOS7_ARM64_ROOT}")
set(ARM_ISYSTEM "-isystem ${CENTOS7_ARM64_ROOT}/usr/include")
add_compile_options(${ARM_BFLAG} ${ARM_ISYSTEM})
SET(CMAKE_EXE_LINKER_FLAGS "${ARM_BFLAG} ${ARM_SYSROOT}" )
SET(CMAKE_SHARED_LINKER_FLAGS "${ARM_BFLAG} ${ARM_SYSROOT}")
if(CMAKE_BUILD_TYPE MATCHES Debug)
add_compile_options(-g -O4 -pg)
else()
add_compile_options( -O4)
endif()
add_compile_options(-Wfatal-errors) 
add_compile_options(-Wno-deprecated) 
include_directories(AFTER SYSTEM ${CENTOS7_ARM64_ROOT}/usr/include)
SET(MIN_GCC_VERSION 7)
SET(TARGET_ARCH arm64)
